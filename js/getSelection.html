<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <p>喀什酱豆腐垃圾啊士大夫艰苦拉萨的飞机离开萨拉江东父老数据库的房间啊士大夫艰苦是</p>
  <button id="button">按钮</button>
</body>
</html>
<script>
   var oId=document.getElementById('button');
   oId.onclick=function(){

     var selection=window.getSelection();
     var range=selection.getRangeAt(0);
  //  console.log('selection:'+selection);
   

     var aa='测试';
     var node=document.createElement('span');
     node.innerHTML=aa;
     range.insertNode(node);
     console.log('range:'+range);
     console.log('selection.toString:'+selection.toString());
   }
</script>